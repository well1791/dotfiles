theme = "rose_pine"

[editor]
mouse = true
gutters = ["spacer", "diagnostics", "spacer", "diff"]
auto-save = true
end-of-line-diagnostics = "hint"
true-color = true
shell = ["fish", "-c"]
scrolloff = 10
completion-trigger-len = 1

[editor.inline-diagnostics]
cursor-line = "error"
other-lines = "disable"

[editor.cursor-shape]
insert = "bar"
normal = "block"
select = "hidden"

[editor.file-picker]
hidden = false

[editor.soft-wrap]
enable = true
max-wrap = 25

[editor.lsp]
display-messages = true
auto-signature-help = true

[editor.statusline]
left = ["mode", "spinner"]
center = ["file-name"]
right = [
  "diagnostics",
  "selections",
  "position",
  "file-encoding",
  "file-line-ending",
]
separator = "â”‚"
mode.normal = "N"
mode.insert = "I"
mode.select = "S"

[keys.normal]
# |-- NAVIGATION
# j = "move_char_left"
# l = "move_char_right"
# i = "move_visual_line_up"
# k = "move_visual_line_down"
# |-- OTHERS
esc = ["collapse_selection", "keep_primary_selection"]
G = "goto_file_end"
K = "hover"
"{" = ["goto_prev_paragraph", "collapse_selection"]
"}" = ["goto_next_paragraph", "move_visual_line_down", "collapse_selection"]
# C-e = [
#   ":sh rm -f /tmp/helix-yazi-tmp-file",
#   ":insert-output yazi %{buffer_name} --chooser-file=/tmp/helix-yazi-tmp-file",
#   ':insert-output echo "\x1b[?1049h\x1b[?2004h" > /dev/tty',
#   ":open %sh{cat /tmp/helix-yazi-tmp-file}",
#   ":redraw",
# ]  # Open yazi
"A-k" = [
  "extend_to_line_bounds",
  "delete_selection",
  "move_line_up",
  "paste_before",
  "flip_selections",
]  # Move line(s) up
"A-j" = [
  "extend_to_line_bounds",
  "delete_selection",
  "paste_after",
  "select_mode",
  "goto_line_start",
  "normal_mode",
]  # Move line(s) down

[keys.normal.g]
# |-- @see https://github.com/helix-editor/helix/issues/1630#issuecomment-1511995639
# l = ["collapse_selection", "extend_to_line_end"]
# h = ["collapse_selection", "extend_to_line_start"]
s = [
  "collapse_selection",
  "select_mode",
  "goto_first_nonwhitespace",
  "exit_select_mode",
]

[keys.normal.z]
w = ["half_page_up", "align_view_center"]
s = ["half_page_down", "align_view_center"]

[keys.normal.space]
r = [":reload-all", ":config-reload", ":redraw"]
F = "file_picker_in_current_buffer_directory"
c = ":noop"
C = ":noop"
A-c = ":noop"

[keys.normal.space.k]
e = "rename_symbol"
s = ":write-all!"
x = ":write-quit-all!"
q = ":q!"
c = ":write-buffer-close!"

# |-- CHEZMOI
[keys.normal.space.m]
w = [
  ":w",
  ":sh chezmoi apply -k --force",
  ":redraw",
  ":config-reload",  # not working
]
c = [
  ":w",
  ":sh chezmoi apply -k --force",
  ":bc",
  ":redraw",
  ":config-reload",  # not working
]

[keys.select]
g = { "e" = "extend_to_file_end" }
"{" = "goto_prev_paragraph"
"}" = "goto_next_paragraph"

# [keys.normal.backspace]
# b = ":run-shell-command zellij run -f -- echo updated"
